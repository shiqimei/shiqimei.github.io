<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Removing Rounded Corners and Window Borders on macOS - Shiqi Mei</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <div class="container">
    <a href="/" class="back-link">&larr; back</a>

    <article>
      <header class="post-header">
        <h1 class="post-title">Removing Rounded Corners and Window Borders on macOS</h1>
        <p class="post-meta">Jan 3, 2026</p>
      </header>

      <div class="post-content">
        <p>macOS has a distinctive look with its rounded window corners and subtle 1px window border. While aesthetically pleasing for most users, some prefer a sharper, more utilitarian appearance—especially when using terminal emulators like WezTerm with dark themes.</p>

        <p>This guide documents the process of modifying macOS system assets to achieve square window corners and remove the window border.</p>

        <h2>Prerequisites</h2>

        <p>This modification requires disabling macOS security features. <strong>Proceed at your own risk.</strong></p>

        <ol>
          <li>Boot into Recovery Mode (hold Power button on Apple Silicon, or Cmd+R on Intel)</li>
          <li>Open Terminal from Utilities menu</li>
          <li>Disable SIP: <code>csrutil disable</code></li>
          <li>Disable Authenticated Root: <code>csrutil authenticated-root disable</code></li>
          <li>Restart</li>
        </ol>

        <h2>Tools Required</h2>

        <ul>
          <li><strong>ThemeEngine</strong> - A tool for editing .car (compiled asset catalog) files. <a href="https://github.com/jslegendre/ThemeEngine/releases/download/v1.0.0(119)/ThemeEngine.zip">Download</a>.</li>
          <li><strong>ImageMagick</strong> - For batch editing images: <code>brew install imagemagick</code></li>
        </ul>

        <h2>Understanding the Asset Structure</h2>

        <p>Window appearance is controlled by assets in:</p>

        <pre><code>/System/Library/CoreServices/SystemAppearance.bundle/Contents/Resources/Aqua.car</code></pre>

        <p>The key assets for window corners are:</p>

        <table>
          <thead>
            <tr>
              <th>Asset Name</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>WindowFrame_WindowShapeEdges_Regular</code></td>
              <td>Standard window corner shape (1x)</td>
            </tr>
            <tr>
              <td><code>WindowFrame_WindowShapeEdges_Regular@2x</code></td>
              <td>Retina window corner shape (2x)</td>
            </tr>
            <tr>
              <td><code>WindowFrame_WindowShapeEdges_Small</code></td>
              <td>Small window variant</td>
            </tr>
          </tbody>
        </table>

        <h2>Extracting and Modifying Assets</h2>

        <h3>Step 1: Backup the Original</h3>

        <pre><code>cp /System/Library/CoreServices/SystemAppearance.bundle/Contents/Resources/Aqua.car ~/Downloads/Aqua.car</code></pre>

        <h3>Step 2: Open in ThemeEngine</h3>

        <p>Open <code>~/Downloads/Aqua.car</code> in ThemeEngine and navigate to the WindowFrame_WindowShapeEdges assets.</p>

        <h3>Step 3: Export and Edit Images</h3>

        <p>Export each WindowShapeEdges image. The original images have:</p>

        <ul>
          <li>Transparent center (window content area)</li>
          <li>Semi-opaque corners (creating the rounded effect)</li>
        </ul>

        <p>To create square corners, fill the entire image with the corner color. Using ImageMagick:</p>

        <pre><code># For shape images (fill with corner color)
magick -size 54x54 xc:'graya(255,0.54902)' output.png

# For base images (make fully transparent)
magick -size 54x54 xc:'rgba(0,0,0,0)' output.png</code></pre>

        <h3>Step 4: Import Back to ThemeEngine</h3>

        <p>Drag the edited PNGs back into ThemeEngine on their corresponding asset slots and save (⌘⇧S).</p>

        <h2>Applying the Modified Assets</h2>

        <p>With SIP and Authenticated Root disabled:</p>

        <pre><code># 1. Backup current system file
sudo cp /System/Library/CoreServices/SystemAppearance.bundle/Contents/Resources/Aqua.car ~/Documents/Aqua.car.backup

# 2. Find and mount the root disk
ROOT_DISK=$(df / | tail -1 | awk '{print $1}')
BASE_DISK=$(echo $ROOT_DISK | sed 's/s[0-9]*$//')
mkdir -p ~/live_disk_mnt
sudo mount -o nobrowse -t apfs $BASE_DISK ~/live_disk_mnt

# 3. Copy modified Aqua.car
sudo cp ~/Downloads/Aqua.car ~/live_disk_mnt/System/Library/CoreServices/SystemAppearance.bundle/Contents/Resources/Aqua.car

# 4. Create bootable snapshot
sudo bless --mount ~/live_disk_mnt --bootefi --create-snapshot

# 5. Restart
sudo shutdown -r now</code></pre>

        <h2>Reverting Changes</h2>

        <p>To restore the original appearance:</p>

        <pre><code># Copy backup back
sudo cp ~/Documents/Aqua.car.backup ~/live_disk_mnt/System/Library/CoreServices/SystemAppearance.bundle/Contents/Resources/Aqua.car

# Re-bless and restart
sudo bless --mount ~/live_disk_mnt --bootefi --create-snapshot
sudo shutdown -r now</code></pre>

        <p>Or re-enable SIP and Authenticated Root in Recovery Mode to restore system integrity.</p>

        <h2>Alternative: JankyBorders</h2>

        <p>For a less invasive approach, <a href="https://github.com/FelixKratz/JankyBorders">JankyBorders</a> can add custom window borders (but cannot remove the native border):</p>

        <pre><code>brew install FelixKratz/formulae/borders
borders style=square active_color=0xff000000 width=2.0</code></pre>

        <h2>References</h2>

        <ul>
          <li><a href="https://github.com/ZimengXiong/osx-square-window-corners">osx-square-window-corners</a></li>
          <li><a href="https://github.com/andres1138/macOS_DisableRoundedWindowCorners">macOS_DisableRoundedWindowCorners</a></li>
          <li><a href="https://github.com/jslegendre/ThemeEngine">ThemeEngine</a></li>
        </ul>
      </div>
    </article>

    <footer class="site-footer">
      <p>&copy; 2026 Shiqi Mei</p>
    </footer>
  </div>
</body>
</html>
