<svg viewBox="0 0 700 420" xmlns="http://www.w3.org/2000/svg" style="background:#000;">
  <!-- Title -->
  <text x="350" y="25" font-family="SF Mono, monospace" font-size="13" fill="#999" text-anchor="middle" font-weight="bold">The Living Kernel</text>
  <text x="350" y="42" font-family="SF Mono, monospace" font-size="9" fill="#555" text-anchor="middle">versioned state, governed mutation, ephemeral compute</text>

  <!-- Central Kernel -->
  <rect x="245" y="105" width="210" height="50" fill="#111" stroke="#fff" stroke-width="2"/>
  <text x="350" y="136" font-family="SF Mono, monospace" font-size="12" fill="#fff" text-anchor="middle">Context Kernel</text>

  <!-- Vertical connector from kernel down -->
  <line x1="350" y1="155" x2="350" y2="185" stroke="#fff" stroke-width="1.5"/>

  <!-- Horizontal bar -->
  <line x1="70" y1="185" x2="630" y2="185" stroke="#555" stroke-width="1.5"/>

  <!-- Vertical drops to subsystems -->
  <line x1="70" y1="185" x2="70" y2="210" stroke="#555" stroke-width="1"/>
  <line x1="210" y1="185" x2="210" y2="210" stroke="#555" stroke-width="1"/>
  <line x1="350" y1="185" x2="350" y2="210" stroke="#555" stroke-width="1"/>
  <line x1="490" y1="185" x2="490" y2="210" stroke="#555" stroke-width="1"/>
  <line x1="630" y1="185" x2="630" y2="210" stroke="#555" stroke-width="1"/>

  <!-- Subsystem boxes -->
  <!-- Scheduler -->
  <rect x="15" y="210" width="110" height="38" fill="#111" stroke="#fff" stroke-width="1.5"/>
  <text x="70" y="234" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Scheduler</text>
  <text x="70" y="255" font-family="SF Mono, monospace" font-size="7" fill="#555" text-anchor="middle">lease, heartbeat, evict</text>

  <!-- Injection -->
  <rect x="155" y="210" width="110" height="38" fill="#111" stroke="#fff" stroke-width="1.5"/>
  <text x="210" y="234" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Injection</text>
  <text x="210" y="255" font-family="SF Mono, monospace" font-size="7" fill="#555" text-anchor="middle">build_view, budget</text>

  <!-- Governance -->
  <rect x="295" y="210" width="110" height="38" fill="#111" stroke="#fff" stroke-width="2"/>
  <text x="350" y="234" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Governance</text>
  <text x="350" y="255" font-family="SF Mono, monospace" font-size="7" fill="#555" text-anchor="middle">validate, commit</text>

  <!-- Capability Market -->
  <rect x="435" y="210" width="110" height="38" fill="#111" stroke="#fff" stroke-width="1.5"/>
  <text x="490" y="234" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Capability</text>
  <text x="490" y="255" font-family="SF Mono, monospace" font-size="7" fill="#555" text-anchor="middle">skills, trace, SLA</text>

  <!-- Indexing -->
  <rect x="575" y="210" width="110" height="38" fill="#111" stroke="#fff" stroke-width="1.5"/>
  <text x="630" y="234" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Indexing</text>
  <text x="630" y="255" font-family="SF Mono, monospace" font-size="7" fill="#555" text-anchor="middle">vector, structural</text>

  <!-- Agent layer -->
  <line x1="15" y1="290" x2="685" y2="290" stroke="#333" stroke-width="1" stroke-dasharray="4,3"/>
  <text x="350" y="283" font-family="SF Mono, monospace" font-size="7" fill="#444" text-anchor="middle">ephemeral compute boundary</text>

  <!-- Agent boxes -->
  <rect x="50" y="305" width="80" height="30" fill="#111" stroke="#555" stroke-width="1"/>
  <text x="90" y="324" font-family="SF Mono, monospace" font-size="8" fill="#888" text-anchor="middle">Agent</text>

  <rect x="170" y="305" width="80" height="30" fill="#111" stroke="#555" stroke-width="1"/>
  <text x="210" y="324" font-family="SF Mono, monospace" font-size="8" fill="#888" text-anchor="middle">Agent</text>

  <rect x="290" y="305" width="80" height="30" fill="#111" stroke="#fff" stroke-width="1.5"/>
  <text x="330" y="324" font-family="SF Mono, monospace" font-size="8" fill="#fff" text-anchor="middle">Builder</text>

  <rect x="410" y="305" width="80" height="30" fill="#111" stroke="#555" stroke-width="1"/>
  <text x="450" y="324" font-family="SF Mono, monospace" font-size="8" fill="#888" text-anchor="middle">Agent</text>

  <rect x="530" y="305" width="80" height="30" fill="#111" stroke="#555" stroke-width="1"/>
  <text x="570" y="324" font-family="SF Mono, monospace" font-size="8" fill="#888" text-anchor="middle">Agent</text>

  <!-- Arrows from agents up to governance (propose) -->
  <line x1="330" y1="305" x2="330" y2="260" stroke="#fff" stroke-width="1" stroke-dasharray="3,2"/>
  <polygon points="330,255 327,262 333,262" fill="#fff"/>
  <text x="315" y="280" font-family="SF Mono, monospace" font-size="6" fill="#666">propose</text>

  <!-- Commit DAG on the right side -->
  <text x="350" y="68" font-family="SF Mono, monospace" font-size="8" fill="#666" text-anchor="middle">Commit DAG (append-only)</text>

  <!-- DAG nodes -->
  <circle cx="300" cy="85" r="5" fill="#333" stroke="#666" stroke-width="1"/>
  <circle cx="340" cy="85" r="5" fill="#333" stroke="#666" stroke-width="1"/>
  <circle cx="380" cy="85" r="5" fill="#333" stroke="#666" stroke-width="1"/>
  <circle cx="410" cy="85" r="5" fill="#111" stroke="#fff" stroke-width="1.5"/>
  <line x1="305" y1="85" x2="335" y2="85" stroke="#555" stroke-width="1"/>
  <line x1="345" y1="85" x2="375" y2="85" stroke="#555" stroke-width="1"/>
  <line x1="385" y1="85" x2="405" y2="85" stroke="#fff" stroke-width="1"/>
  <text x="425" y="88" font-family="SF Mono, monospace" font-size="7" fill="#888">HEAD</text>

  <!-- Bottom annotation -->
  <text x="350" y="370" font-family="SF Mono, monospace" font-size="8" fill="#555" text-anchor="middle">Agents propose. Governance validates. The kernel commits.</text>
  <text x="350" y="385" font-family="SF Mono, monospace" font-size="8" fill="#555" text-anchor="middle">The system that manages agents is itself managed by agents.</text>
  <text x="350" y="405" font-family="SF Mono, monospace" font-size="9" fill="#666" text-anchor="middle">ContextOS</text>
</svg>