<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 950">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6D28D9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#06B6D4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0891B2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad6" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#EC4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DB2777;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad7" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad8" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6B7280"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="700" height="950" fill="#000"/>

  <!-- Title -->
  <text x="350" y="35" font-family="SF Mono, JetBrains Mono, monospace" font-size="18" font-weight="bold" fill="#FFF" text-anchor="middle">Complete Architecture</text>

  <!-- Box 1: Raw Data Sources -->
  <g transform="translate(50, 60)">
    <rect x="0" y="0" width="600" height="70" rx="0" fill="url(#grad1)"/>
    <text x="300" y="28" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">Raw Data Sources</text>
    <text x="300" y="52" font-family="SF Mono, JetBrains Mono, monospace" font-size="11" fill="rgba(255,255,255,0.9)" text-anchor="middle">datasets/*.json (25K+ articles in JSON format)</text>
  </g>

  <!-- Arrow 1 -->
  <path d="M 350 130 L 350 155" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Box 2: Preprocessing Scripts -->
  <g transform="translate(50, 165)">
    <rect x="0" y="0" width="600" height="90" rx="0" fill="url(#grad2)"/>
    <text x="300" y="28" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">Preprocessing Scripts</text>
    <text x="300" y="50" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">Normalize IDs</text>
    <text x="300" y="66" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">Remove whitespace</text>
    <text x="300" y="82" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">Split into CSV chunks</text>
  </g>

  <!-- Arrow 2 -->
  <path d="M 350 255 L 350 280" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Box 3: Parallel Task Agents -->
  <g transform="translate(50, 290)">
    <rect x="0" y="0" width="600" height="90" rx="0" fill="url(#grad3)"/>
    <text x="300" y="28" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">Parallel Task Agents (x10)</text>
    <text x="300" y="50" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">tag-summaries skill</text>
    <text x="300" y="66" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">Multi-label classification</text>
    <text x="300" y="82" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">Edit CSV files in place</text>
  </g>

  <!-- Arrow 3 -->
  <path d="M 350 380 L 350 405" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Box 4: PostgreSQL Database -->
  <g transform="translate(50, 415)">
    <rect x="0" y="0" width="600" height="80" rx="0" fill="url(#grad4)"/>
    <text x="300" y="28" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">PostgreSQL Database</text>
    <text x="300" y="50" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">Tagged articles with metadata</text>
    <text x="300" y="66" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">Queryable by tag, date, source</text>
  </g>

  <!-- Arrow 4 -->
  <path d="M 350 495 L 350 520" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Box 5: IR Generation -->
  <g transform="translate(50, 530)">
    <rect x="0" y="0" width="600" height="80" rx="0" fill="url(#grad5)"/>
    <text x="300" y="28" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">IR Generation (Two-Phase)</text>
    <text x="300" y="50" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">Phase 1: Query -> Raw IR (JSON)</text>
    <text x="300" y="66" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">Phase 2: Normalize -> Deduplicated IR</text>
  </g>

  <!-- Arrow 5 -->
  <path d="M 350 610 L 350 635" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Box 6: Report Generation -->
  <g transform="translate(50, 645)">
    <rect x="0" y="0" width="600" height="80" rx="0" fill="url(#grad6)"/>
    <text x="300" y="28" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">Report Generation</text>
    <text x="300" y="50" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">generate-report skill</text>
    <text x="300" y="66" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">Markdown -> xlsx skill -> Excel</text>
  </g>

  <!-- Arrow 6 -->
  <path d="M 350 725 L 350 750" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Box 7: Report Validation -->
  <g transform="translate(50, 760)">
    <rect x="0" y="0" width="600" height="90" rx="0" fill="url(#grad7)"/>
    <text x="300" y="28" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">Report Validation</text>
    <text x="300" y="50" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">report-validator skill</text>
    <text x="300" y="66" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">Extract facts -> Search sources -> Verify</text>
    <text x="300" y="82" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">Zero NOT_FOUND tolerance</text>
  </g>

  <!-- Arrow 7 -->
  <path d="M 350 850 L 350 875" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Box 8: Final Deliverables -->
  <g transform="translate(50, 885)">
    <rect x="0" y="0" width="600" height="55" rx="0" fill="url(#grad8)"/>
    <text x="300" y="22" font-family="SF Mono, JetBrains Mono, monospace" font-size="13" font-weight="bold" fill="#FFF" text-anchor="middle">Final Deliverables</text>
    <text x="300" y="42" font-family="SF Mono, JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.9)" text-anchor="middle">Excel reports with 8 sheets | Verified, traceable, enterprise-ready</text>
  </g>

</svg>
