<svg viewBox="0 0 700 400" xmlns="http://www.w3.org/2000/svg" style="background:#000;">
  <!-- Title -->
  <text x="350" y="25" font-family="SF Mono, monospace" font-size="14" fill="#fff" text-anchor="middle" font-weight="bold">GraphRAG Query Modes</text>

  <!-- Global Search Section -->
  <rect x="30" y="50" width="310" height="320" fill="#0a0a0a" stroke="#333" stroke-width="1"/>
  <text x="185" y="75" font-family="SF Mono, monospace" font-size="12" fill="#fff" text-anchor="middle">Global Search</text>
  <text x="185" y="92" font-family="SF Mono, monospace" font-size="9" fill="#666" text-anchor="middle">Holistic questions about entire dataset</text>

  <!-- Global Search Flow -->
  <rect x="50" y="110" width="120" height="35" fill="#111" stroke="#444" stroke-width="1"/>
  <text x="110" y="132" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Query</text>

  <!-- Arrow down -->
  <line x1="110" y1="145" x2="110" y2="165" stroke="#555" stroke-width="1"/>
  <polygon points="110,175 103,162 117,162" fill="#555"/>

  <rect x="50" y="180" width="120" height="35" fill="#111" stroke="#444" stroke-width="1"/>
  <text x="110" y="195" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">All Community</text>
  <text x="110" y="208" font-family="SF Mono, monospace" font-size="8" fill="#666" text-anchor="middle">Summaries</text>

  <!-- Arrow down -->
  <line x1="110" y1="215" x2="110" y2="235" stroke="#555" stroke-width="1"/>
  <polygon points="110,245 103,232 117,232" fill="#555"/>

  <rect x="50" y="250" width="120" height="35" fill="#111" stroke="#fff" stroke-width="2"/>
  <text x="110" y="272" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Map-Reduce</text>

  <!-- Arrow down -->
  <line x1="110" y1="285" x2="110" y2="305" stroke="#555" stroke-width="1"/>
  <polygon points="110,315 103,302 117,302" fill="#555"/>

  <rect x="50" y="320" width="120" height="35" fill="#111" stroke="#444" stroke-width="1"/>
  <text x="110" y="342" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Global Answer</text>

  <!-- Community visualization on right side of global -->
  <text x="260" y="130" font-family="SF Mono, monospace" font-size="8" fill="#666" text-anchor="middle">Communities</text>

  <!-- Community circles -->
  <ellipse cx="220" cy="170" rx="25" ry="20" fill="none" stroke="#444" stroke-width="1" stroke-dasharray="3,2"/>
  <ellipse cx="260" cy="160" rx="30" ry="22" fill="none" stroke="#444" stroke-width="1" stroke-dasharray="3,2"/>
  <ellipse cx="300" cy="175" rx="22" ry="18" fill="none" stroke="#444" stroke-width="1" stroke-dasharray="3,2"/>
  <ellipse cx="240" cy="210" rx="28" ry="20" fill="none" stroke="#444" stroke-width="1" stroke-dasharray="3,2"/>
  <ellipse cx="285" cy="215" rx="25" ry="18" fill="none" stroke="#444" stroke-width="1" stroke-dasharray="3,2"/>

  <!-- Arrows from communities to map-reduce -->
  <line x1="220" y1="190" x2="170" y2="260" stroke="#333" stroke-width="1"/>
  <line x1="260" y1="182" x2="170" y2="262" stroke="#333" stroke-width="1"/>
  <line x1="300" y1="193" x2="170" y2="265" stroke="#333" stroke-width="1"/>
  <line x1="240" y1="230" x2="170" y2="268" stroke="#333" stroke-width="1"/>
  <line x1="285" y1="233" x2="170" y2="270" stroke="#333" stroke-width="1"/>

  <!-- Example query -->
  <text x="260" y="310" font-family="SF Mono, monospace" font-size="8" fill="#555" text-anchor="middle">"What are the main</text>
  <text x="260" y="322" font-family="SF Mono, monospace" font-size="8" fill="#555" text-anchor="middle">themes in this dataset?"</text>

  <!-- Cost indicator -->
  <text x="260" y="350" font-family="SF Mono, monospace" font-size="9" fill="#888" text-anchor="middle">~610K tokens</text>
  <text x="260" y="363" font-family="SF Mono, monospace" font-size="9" fill="#888" text-anchor="middle">Hundreds of API calls</text>

  <!-- Local Search Section -->
  <rect x="360" y="50" width="310" height="320" fill="#0a0a0a" stroke="#333" stroke-width="1"/>
  <text x="515" y="75" font-family="SF Mono, monospace" font-size="12" fill="#fff" text-anchor="middle">Local Search</text>
  <text x="515" y="92" font-family="SF Mono, monospace" font-size="9" fill="#666" text-anchor="middle">Specific questions about entities</text>

  <!-- Local Search Flow -->
  <rect x="380" y="110" width="120" height="35" fill="#111" stroke="#444" stroke-width="1"/>
  <text x="440" y="132" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Query</text>

  <!-- Arrow down -->
  <line x1="440" y1="145" x2="440" y2="165" stroke="#555" stroke-width="1"/>
  <polygon points="440,175 433,162 447,162" fill="#555"/>

  <rect x="380" y="180" width="120" height="35" fill="#111" stroke="#444" stroke-width="1"/>
  <text x="440" y="195" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Find Relevant</text>
  <text x="440" y="208" font-family="SF Mono, monospace" font-size="8" fill="#666" text-anchor="middle">Entities</text>

  <!-- Arrow down -->
  <line x1="440" y1="215" x2="440" y2="235" stroke="#555" stroke-width="1"/>
  <polygon points="440,245 433,232 447,232" fill="#555"/>

  <rect x="380" y="250" width="120" height="35" fill="#111" stroke="#fff" stroke-width="2"/>
  <text x="440" y="265" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Fan Out to</text>
  <text x="440" y="278" font-family="SF Mono, monospace" font-size="8" fill="#666" text-anchor="middle">Neighbors</text>

  <!-- Arrow down -->
  <line x1="440" y1="285" x2="440" y2="305" stroke="#555" stroke-width="1"/>
  <polygon points="440,315 433,302 447,302" fill="#555"/>

  <rect x="380" y="320" width="120" height="35" fill="#111" stroke="#444" stroke-width="1"/>
  <text x="440" y="342" font-family="SF Mono, monospace" font-size="9" fill="#fff" text-anchor="middle">Local Answer</text>

  <!-- Graph traversal visualization -->
  <text x="590" y="130" font-family="SF Mono, monospace" font-size="8" fill="#666" text-anchor="middle">Graph Traversal</text>

  <!-- Central node (Scrooge) -->
  <circle cx="590" cy="200" r="15" fill="#222" stroke="#fff" stroke-width="2"/>
  <text x="590" y="204" font-family="SF Mono, monospace" font-size="7" fill="#fff" text-anchor="middle">S</text>

  <!-- Neighbor nodes -->
  <circle cx="550" cy="170" r="10" fill="#222" stroke="#666" stroke-width="1"/>
  <circle cx="630" cy="170" r="10" fill="#222" stroke="#666" stroke-width="1"/>
  <circle cx="540" cy="210" r="10" fill="#222" stroke="#666" stroke-width="1"/>
  <circle cx="640" cy="210" r="10" fill="#222" stroke="#666" stroke-width="1"/>
  <circle cx="555" cy="245" r="10" fill="#222" stroke="#666" stroke-width="1"/>
  <circle cx="625" cy="245" r="10" fill="#222" stroke="#666" stroke-width="1"/>

  <!-- Edges -->
  <line x1="577" y1="190" x2="557" y2="177" stroke="#444" stroke-width="1"/>
  <line x1="603" y1="190" x2="623" y2="177" stroke="#444" stroke-width="1"/>
  <line x1="575" y1="200" x2="550" y2="210" stroke="#444" stroke-width="1"/>
  <line x1="605" y1="200" x2="630" y2="210" stroke="#444" stroke-width="1"/>
  <line x1="580" y1="213" x2="563" y2="238" stroke="#444" stroke-width="1"/>
  <line x1="600" y1="213" x2="617" y2="238" stroke="#444" stroke-width="1"/>

  <!-- Fan out indicator -->
  <text x="590" y="275" font-family="SF Mono, monospace" font-size="8" fill="#555" text-anchor="middle">Multi-hop</text>

  <!-- Example query -->
  <text x="590" y="310" font-family="SF Mono, monospace" font-size="8" fill="#555" text-anchor="middle">"What are Scrooge's</text>
  <text x="590" y="322" font-family="SF Mono, monospace" font-size="8" fill="#555" text-anchor="middle">main relationships?"</text>

  <!-- Cost indicator -->
  <text x="590" y="350" font-family="SF Mono, monospace" font-size="9" fill="#888" text-anchor="middle">Lower cost but</text>
  <text x="590" y="363" font-family="SF Mono, monospace" font-size="9" fill="#888" text-anchor="middle">still significant</text>
</svg>